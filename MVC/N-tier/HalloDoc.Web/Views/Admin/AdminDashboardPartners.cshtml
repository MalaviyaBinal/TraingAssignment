@model List<HalloDocWebEntity.Data.Healthprofessionaltype>
@{
    Layout = "_AdminHeader";
}
<div class="container my-5">
    <div class="row d-flex">
        <div class="col-6">
            <div class="h3">Vendor(s)</div>
        </div>
    </div>
    <div class="container bg-white rounded shadow">
        <div class="row">
            <div class="d-flex justify-content-between align-items-center">
                <div class="row">
                </div>
                <div class="mt-3">
                    <a asp-action="AddVendor" class="btn border border-info text-info">
                        <i class="bi bi-plus-lg"></i>Add Business
                    </a>
                </div>
            </div>
        </div>
        <div class="table-responsive mt-4 mb-4">
            <table class="table table-hover d-md-table d-none">
                <thead class="table-light text-muted">
                    <tr>
                        <th scope="col">Profession</th>
                        <th scope="col">Business Name</th>
                        <th scope="col">Email</th>
                        <th scope="col">Fax Number</th>
                        <th scope="col">Phone Number</th>
                        <th scope="col">Business Contact</th>
                        <th scope="col">Actions</th>
                    </tr>
                </thead>
                <tbody>
                 
                    @foreach (var i in Model)
                    {
                        @foreach( var item in i.Healthprofessionals)
                        {
                            <tr>
                                <td scope="row">
                                    @i.Professionname
                                </td>
                                <td scope="row">@item.Vendorname</td>
                                <td scope="row">@item.Email</td>
                                <td scope="row">@item.Faxnumber</td>
                                <td scope="row">@item.Phonenumber</td>
                                <td scope="row">@item.Businesscontact</td>
                                <td scope="row">
                                    <div class="d-flex">
                                        <a asp-action="EditBusiness" asp-route-id="@item.Vendorid" class="btn btn-outline-info rounded me-2">Edit</a>
                                        <button type="button" onclick="deleteaccess(this)" value="@item.Vendorid" class="btn btn-outline-info">Delete</button>
                                    </div>
                                </td>
                            </tr>
                        }
                        
                    }
                    
                </tbody>
            </table>
        </div>
    </div>
</div>
<div id="modalpopup">
</div>
<script>
    document.getElementById("partners").classList.add("active");
    function deleteaccess(element) {

        var id = element.value;
        console.log(id);
        $.ajax({
            url: "/Admin/ShowDeleteModal",
            data: { 'id': id, 'acntType': "Vender" },
            type: "GET",
            dataType: "html",
            success: function (data) {

                $("#modalpopup").html(data);

            },
            error: function () {
                alert("No Projects Found");

            }
        });
    };
</script>
