@{
    Layout = "_MyLayout";
}
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">

    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Request Page</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"
          integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA=="
          crossorigin="anonymous" referrerpolicy="no-referrer" />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
        <link rel="stylesheet"
          href="https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/17.0.8/css/intlTelInput.css" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/17.0.8/js/intlTelInput.min.js"></script>
    <link rel="stylesheet" href="~/css/style-patient.css">
</head>
<body style="background-color: rgb(248, 248, 248);">
    <!-- --------------------------------------Main container--------------------------------------------- -->
    
    <div class="container d-flex justify-content-center pt-3  min-vh-100 ">


        <div class="row mt-5">
            <div class="col-12">
                <div class="row mb-3">

                    <div class="col text-end">
                        <form action="Submit-request-patient.html">
                            <button type="submit" class="text-info bg-transparent border-info px-2 mt-5 py-1 btn" asp-action="SubmitPatientRequest" asp-controller="Home">
                                < Back
                            </button>
                        </form>
                    </div>
                </div>
                <div class="container-fluid margin-header rounded shadow " style="background-color: white;">
                    <form asp-action="CreatePatientByBusiness" asp-controller="Aspnetusers">
                        <div class="row">
                            <div class="col mt-3"> <label class="h4">Business Information</label></div>
                        </div>

                        <div class="row">
                            <div class="col-xl-4 col-sm-12 col-md-6">
                                <p>
                                    <input type="text" name="first_name" class="form-control input-placeholder" id="username"
                                           placeholder="" required>
                                    <label class="label-placeholder">Your First Name</label>
                                </p>
                            </div>
                            <div class="col-xl-4 col-sm-12 col-md-6">
                                <p>
                                    <input type="text" name="last_name" class="form-control input-placeholder" id="username"
                                           placeholder="" required>
                                    <label class="label-placeholder">Your Last Name</label>
                                </p>
                            </div>
                            <div class="col-xl-4 col-sm-12 col-md-6 pt-3 pb-3">
                                <input type="tel" name="phone" class="form-control inp" id="phone">
                            </div>
                            <div class="col-xl-4 col-sm-12 col-md-6">
                                <p>
                                    <input type="email" class="form-control input-placeholder" id="username"
                                           placeholder="" name="email" required>
                                    <label class="label-placeholder">Your Email</label>
                                </p>
                            </div>
                            <div class="col-xl-4 col-sm-12 col-md-6">
                                <p>
                                    <input type="text" class="form-control input-placeholder" id="username"
                                           placeholder="" name="business_name" required>
                                    <label class="label-placeholder">Business/Property Name</label>
                                </p>
                            </div>
                            <div class="col-xl-4 col-sm-12 col-md-6">
                                <p>
                                    <input type="text" class="form-control input-placeholder" id="username"
                                           placeholder="" name="case_no" required>
                                    <label class="label-placeholder">Case Number (Optional)</label>
                                </p>
                            </div>
                        </div>

                        <div class="row">
                            <div class="col mt-3"> <label class="h4">Patient Information</label></div>
                        </div>

                        <div class="row">
                            <div class="col-xl-12 col-sm-12 col-md-12 mt-2">
                                <textarea class="form-control" name="symptoms" placeholder="Enter Brief Details Of Symptoms" rows="5" required></textarea>
                            </div>
                            <div class="col-xl-4 col-sm-12 col-md-6">
                                <p>
                                    <input type="text" class="form-control input-placeholder" id="username"
                                           placeholder="" name="p_first_name" required>
                                    <label class="label-placeholder">First Name</label>
                                </p>
                            </div>
                            <div class="col-xl-4 col-sm-12 col-md-6">
                                <p>
                                    <input type="text" class="form-control input-placeholder" id="username"
                                           placeholder="" name="p_last_name" required>
                                    <label class="label-placeholder">Last Name</label>
                                </p>
                            </div>
                            <div class="col-xl-4 col-sm-12 col-md-6">
                                <p>
                                    <input type="date" class="form-control input-placeholder" id="username"
                                           placeholder="" name="dob" required>
                                    <label class="label-placeholder">Date Of Birth</label>
                                </p>
                            </div>


                        </div>

                        <div class="row">
                            <div class="col mt-3"> <label class="h4">Patient Contact Information</label></div>
                        </div>
                        <div class="row">
                            <div class="col-xl-6 col-sm-12 col-md-6">
                                <p>
                                    <input type="email" class="form-control input-placeholder" id="email"
                                           placeholder="" name="p_email" onchange="emailExists()" required>
                                    <label class="label-placeholder"> Email</label>
                                </p>
                            </div>
                            <div class="col-xl-6 col-sm-12 col-md-6">
                                <p>
                                    <input type="tel" class="form-control input-placeholder" id="username"
                                           placeholder="" name="p_phone" required>
                                    <label class="label-placeholder">(201)555-0123</label>
                                </p>
                            </div>
                            <div class="col-xl-6 col-sm-12 col-md-6" id="pwd_div" style="display:none;">
                                <p>
                                    <input type="password" class="form-control input-placeholder" id="password"
                                           placeholder="" name="password">
                                    <label class="label-placeholder">Password</label>
                                </p>
                            </div>
                            <div class="col-xl-6 col-sm-12 col-md-6" id="con_pwd_div" style="display:none;">
                                <p>
                                    <input type="password" class="form-control input-placeholder" id="confirmPassword"
                                           placeholder="" name="con_password" onchange="checkPwd()">
                                    <label class="label-placeholder">Confirm Password</label>
                                </p>
                                <span class="text-danger " id="errorspan" style="display:none;">confirm password should match</span>
                            </div>
                        </div>

                        <div class="row">
                            <div class="col mt-3"> <label class="h4">Patient Location</label></div>
                        </div>

                        <div class="row">
                            <div class="col-xl-4 col-sm-12 col-md-6">
                                <p>
                                    <input type="text" class="form-control input-placeholder" id="username"
                                           placeholder="" name="p_street" required>
                                    <label class="label-placeholder">Street</label>
                                </p>
                            </div>
                            <div class="col-xl-4 col-sm-12 col-md-6">
                                <p>
                                    <input type="text" class="form-control input-placeholder" id="username"
                                           placeholder="" name="p_city" required>
                                    <label class="label-placeholder">City</label>
                                </p>
                            </div>
                            <div class="col-xl-4 col-sm-12 col-md-6">
                                <p>
                                    <input type="text" class="form-control input-placeholder" id="username"
                                           placeholder="" name="p_state" required>
                                    <label class="label-placeholder">State</label>
                                </p>
                            </div>
                            <div class="col-xl-4 col-sm-12 col-md-6">
                                <p>
                                    <input type="text" class="form-control input-placeholder" id="username"
                                           placeholder="" name="p_zip_code" required>
                                    <label class="label-placeholder">Zip Code</label>
                                </p>
                            </div>
                            <div class="col-xl-4 col-sm-12 col-md-6">
                                <p>
                                    <input type="text" class="form-control input-placeholder" id="username"
                                           placeholder="">
                                    <label class="label-placeholder">Room # /Suite (Optional)</label>
                                </p>
                            </div>
                        </div>
                        <div class="row text-end mb-5">
                            <div class="col">
                                <button class="btn btn-info text-white mb-4 " >Submit</button>
                                <button class="btn btn-outline-info mb-4 ms-3">Cancel</button>
                            </div>
                        </div>

                    </form>

                </div>

                <footer class="text-center  text-light bg-secondary footer-bottom ">
                    <span class="text-center">Terms and Conditions | Privacy Policy</span>
                </footer>


            </div>
        </div>

    </div>
    <script>
        let c = 1;
        function changeTheme() {

            if (c % 2 === 0) {
                document.body.style.backgroundColor = "#F8F8F8";
                document.getElementById("myHeader").style.backgroundColor = "white";
                c++;
            }
            else {
                c++;
                document.querySelector(".theme-btn").style.backgroundColor = "white";
                document.querySelector(".logo-icon").style.backgroundColor = "#757171";
                document.getElementById("myHeader").style.backgroundColor = "#757171";
            }
        }
        function emailExists() {

            var email = document.getElementById("email").value;
            fetch('/Home/RequestBusiness/' + email)
                .then(response => response.json())
                .then(data => {
                    console.log(data);

                    if (!data.exists) {
                        document.getElementById('pwd_div').style.display = 'block';
                        document.getElementById('con_pwd_div').style.display = 'block';
                    }
                    else {
                        document.getElementById('pwd_div').style.display = 'none';
                        document.getElementById('con_pwd_div').style.display = 'none';
                    }

                })
                .catch(error => console.error('Error:', error));
        }
        function checkPwd() {
            var pwd = document.getElementById('password').value;
            var con_pwd = document.getElementById('confirmPassword').value;
            if (pwd != con_pwd)
                document.getElementById('errorspan').style.display = 'block';
            else
                document.getElementById('errorspan').style.display = 'none';


        }
    </script>

</body>
<script>
    const phoneInputField = document.querySelector("#phone");
    const phoneInput = window.intlTelInput(phoneInputField, {utilsScript:"https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/17.0.8/js/utils.js",});

</script>

</html>
