@model HalloDocWebEntity.ViewModel.FamilyFrdPatientRequest
@{
    Layout = "_MyLayout";
}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta asp-for="viewport" content="width=device-width, initial-scale=1.0">
    <title>Request Page</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/js/bootstrap.min.js" integrity="sha384-Atwg2Pkwv9vp0ygtn1JAojH0nYbwNJLPhwyoVbhoPwBhjQPR5VtM2+xf0Uwh9KtT" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"
          integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA=="
          crossorigin="anonymous" referrerpolicy="no-referrer" />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
    <link rel="stylesheet" href="~/css/style-patient.css">
    <script type="text/javascript">
        $(window).load(function () {
            $('#myModal').modal('show');
        });
    </script>
</head>
<style>
    .iti {
        width: 100%;
    }
    #phone, #phone1 {
        height: 58px;
    }
</style>
<body style="background-color: rgb(248, 248, 248);">
    <!-- --------------------------------------Main container--------------------------------------------- -->
    <div class="container d-flex justify-content-center pt-3  min-vh-100 ">
        <div class="row mt-5">
            <div class="col-12">
                <div class="row mb-3">
                    <div class="col text-end">
                        <a class="text-start text-info text-decoration-none " asp-controller="Home" asp-action="SubmitPatientRequest">
                            <button class="btn btn-white px-2 mt-5 py-1  text-info border-info rounded ">
                                <i class="fa-solid  fa-less-than"></i> Back
                            </button>
                        </a>
                    </div>
                </div>
                <div class="container-fluid margin-header rounded shadow " style="background-color: white;">
                    <form enctype="multipart/form-data" asp-action="CreatePatientByFamilyFrd" asp-controller="Home">
                        <div class="row">
                            <div class="col mt-3"> <label class="h5">Family/Friend Information</label></div>
                        </div>
                        <div class="row">
                            <div class="col-xl-4 col-sm-12 col-md-6 form-floating text-muted mt-3">
                                <input type="text" class="form-control" id="fname"
                                       placeholder="" asp-for="first_name">
                                <label class="form-label ms-2 ps-4" for="fname">First Name</label>
                                <span asp-validation-for="first_name" class="text-danger"></span>
                            </div>
                            <div class="col-xl-4 col-sm-12 col-md-6 form-floating text-muted mt-3">
                                <input type="text" class="form-control " id="lname"
                                       placeholder="" asp-for="last_name">
                                <label class="form-label ms-2 ps-4" for="lname">Last Name</label>
                                <span asp-validation-for="last_name" class="text-danger"></span>
                            </div>
                            <div class="col-xl-4 col-sm-12 col-md-6 form-floating text-muted mt-3">
                                <input type="tel" class="form-control " id="phone"
                                       placeholder="Mobile Number" asp-for="phone">
                                <span asp-validation-for="phone" class="text-danger"></span>
                            </div>
                            <div class="col-xl-4 col-sm-12 col-md-6 form-floating text-muted mt-3">
                                <input type="email" class="form-control "
                                       placeholder="" asp-for="email">
                                <label class="form-label ms-2 ps-4">Your Email</label>
                                <span asp-validation-for="email" class="text-danger"></span>
                            </div>
                            <div class="col-xl-4 col-sm-12 col-md-6 form-floating text-muted mt-3">
                                <input type="text" class="form-control"
                                       placeholder="" asp-for="relation_with">
                                <label class="form-label ms-2 ps-4">Relation With Patient</label>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col mt-3"> <label class="h5">Patient Information</label></div>
                        </div>
                        <div class="row">
                            <div class="col-xl-12 col-sm-12 col-md-12 mt-2">
                                <textarea class="form-control" asp-for="symptoms" placeholder="Enter Brief Details Of Symptoms" rows="5"></textarea>
                            </div>
                            <div class="col-xl-4 col-sm-12 col-md-6 form-floating text-muted mt-3">
                                <input type="text" class="form-control"
                                       placeholder="" asp-for="p_first_name">
                                <label class="form-label ms-2 ps-4">First Name</label>
                                <span asp-validation-for="p_first_name" class="text-danger"></span>
                            </div>
                            <div class="col-xl-4 col-sm-12 col-md-6 form-floating text-muted mt-3">
                                <input type="text" class="form-control "
                                       placeholder="" asp-for="p_last_name">
                                <label class="form-label ms-2 ps-4">Last Name</label>
                                <span asp-validation-for="p_last_name" class="text-danger"></span>
                            </div>
                            <div class="col-xl-4 col-sm-12 col-md-6 form-floating text-muted mt-3">
                                <input type="date" class="form-control "
                                       placeholder="" asp-for="p_dob">
                                <label class="form-label ms-2 ps-4">Date Of Birth</label>
                                <span asp-validation-for="p_dob" class="text-danger"></span>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col mt-3"> <label class="h5">Patient Contact Information</label></div>
                        </div>
                        <div class="row">
                            <div class="col-xl-6 col-sm-12 col-md-6 form-floating text-muted mt-3">
                                <input type="email" class="form-control " id="email"
                                       placeholder="" asp-for="p_email" onchange="emailExists()">
                                <label class="form-label ms-2 ps-4"> Email</label>
                                <span asp-validation-for="p_email" class="text-danger"></span>
                            </div>
                            <div class="col-xl-6 col-sm-12 col-md-6 orm-floating text-muted mt-3">
                                <input type="tel" class="form-control" id="phone1"
                                       placeholder=" Mobile number" asp-for="p_phone">
                                <span asp-validation-for="p_phone" class="text-danger"></span>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col mt-3"> <label class="h5">Patient Location</label></div>
                        </div>
                        <div class="row">
                            <div class="col-xl-4 col-sm-12 col-md-6 form-floating text-muted mt-3">
                                <input type="text" class="form-control"
                                       placeholder="" asp-for="p_street">
                                <label class="form-label ms-2 ps-4">Street</label>
                                <span asp-validation-for="p_street" class="text-danger"></span>
                            </div>
                            <div class="col-xl-4 col-sm-12 col-md-6 form-floating text-muted mt-3">
                                <input type="text" class="form-control"
                                       placeholder="" asp-for="p_city">
                                <label class="form-label ms-2 ps-4">City</label>
                                <span asp-validation-for="p_city" class="text-danger"></span>
                            </div>
                            <div class="col-xl-4 col-sm-12 col-md-6 form-floating text-muted mt-3">
                                <input type="text" class="form-control"
                                       placeholder="" asp-for="p_state">
                                <label class="form-label ms-2 ps-4">State</label>
                                <span asp-validation-for="p_state" class="text-danger"></span>
                            </div>
                            <div class="col-xl-4 col-sm-12 col-md-6 form-floating text-muted mt-3">
                                <input type="text" class="form-control"
                                       placeholder="" asp-for="p_zip_code">
                                <label class="form-label ms-2 ps-4">Zip Code</label>
                                <span asp-validation-for="p_zip_code" class="text-danger"></span>
                            </div>
                            <div class="col-xl-4 col-sm-12 col-md-6 form-floating text-muted mt-3">
                                <input type="text" class="form-control"
                                       placeholder="">
                                <label class="form-label ms-2 ps-4">Room # /Suite (Optional)</label>
                            </div>
                            <div class="row">
                                <div class="col mt-3">
                                    <label class="h5">(Optional) Upload Photo or Document</label>
                                </div>
                            </div>
                            <div class="form-group row">
                                <div class="col">
                                    <p>
                                        <span style="position:absolute;left:0; height:46px; width:110px" class="btn btn-info text-light text-start">
                                            <i class="fa-solid fa-cloud-arrow-up"
                                               style="color: #ffffff; border-radius: 0px 5px 5px 0px; "></i><span class=" ms-2 ">Upload</span>
                                        </span>
                                        <input type="File" class="form-control input-placeholder " asp-for="fileToUpload" id="fileToUpload"
                                               placeholder="Select File">
                                    </p>
                                </div>
                            </div>
                        </div>
                        <div class="row text-end mb-5">
                            <div class="col">
                                <button class="btn btn-info text-white mb-4 " type="submit">Submit</button>
                                <button class="btn btn-outline-info mb-4 ms-3" onclick="clickbtn()">Cancel</button>
                            </div>
                        </div>
                    </form>
                </div>
                <footer class="text-center  text-light bg-secondary footer-bottom ">
                    <span class="text-center">Terms and Conditions | Privacy Policy</span>
                </footer>
            </div>
        </div>
    </div>
    <div class="modal fade" id="myModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header justify-content-center">
                    <span style="padding:10px;">
                        <i class="fa-solid fa-circle-exclamation"
                           style="color: #ffa200; font-size : 80px"></i>
                    </span>
                </div>
                <div class="modal-body text-center">
                    <h5>Information</h5>
                    When submitting a request,you must provide the correct contact information for the patient or the
                    responsibility party. Failure to provide the correct email and the phone number will delau service
                    or be declined
                </div>
                <div class="modal-footer justify-content-center">
                    <button type="button" class="btn btn-info text-light" data-bs-dismiss="modal">OK</button>
                </div>
            </div>
        </div>
    </div>
    <script>
        let c = 1;
        function clickbtn() {
            window.location.href = "/Home/SubmitPatientRequest";
        }
        function changeTheme() {
            if (c % 2 === 0) {
                document.body.style.backgroundColor = "#F8F8F8";
                document.getElementById("myHeader").style.backgroundColor = "white";
                c++;
            }
            else {
                c++;
                document.querySelector(".theme-btn").style.backgroundColor = "white";
                document.querySelector(".logo-icon").style.backgroundColor = "#757171";
                document.getElementById("myHeader").style.backgroundColor = "#757171";
            }
        }
        function emailExists() {
            var email = document.getElementById("email").value;
            fetch('/Home/RequestFrdFamily/' + email)
                .then(response => response.json())
                .then(data => {
                    console.log(data);
                    if (!data.exists) {
                        document.getElementById('isemailExist').value = "false";
                    }
                    else {
                        document.getElementById('isemailExist').value = "true";
                    }
                })
                .catch(error => console.error('Error:', error));
        }
        function checkPwd() {
            var pwd = document.getElementById('password').value;
            var con_pwd = document.getElementById('confirmPassword').value;
            if (pwd != con_pwd)
                document.getElementById('errorspan').style.display = 'block';
            else
                document.getElementById('errorspan').style.display = 'none';
        }
    </script>
    <script>
        const phoneInputField = document.querySelector("#phone");
        const phoneInputField1 = document.querySelector("#phone1");
        window.intlTelInput(phoneInputField, { utilsScript: "https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/17.0.8/js/utils.js", });
        window.intlTelInput(phoneInputField1, { utilsScript: "https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/17.0.8/js/utils.js", });
    </script>
    @section Scripts {
        @{
            await Html.RenderPartialAsync("_ValidationScriptsPartial");
        }
    }
</body>
</html>
